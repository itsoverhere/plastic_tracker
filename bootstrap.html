<!doctype html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


	<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/litepicker/dist/litepicker.js"></script>
	<script src="https://unpkg.com/js-year-calendar@latest/dist/js-year-calendar.min.js"></script>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/litepicker/dist/css/litepicker.css" />

	<script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css" />

	<link rel="stylesheet" href="css/style.css" />
	<script src="js/index.var.js"></script>


	<style>
		.selector-for-some-widget {
			box-sizing: content-box;
		}
		
		html,
		body {
			width: 100vw;
			height: 100vh;
			overflow-x: hidden;
		}
		
		div.title {
			font-weight: 500;
		}
		
		div.description {
			color: darkgray;
			line-height: 1em;
		}
		
		div#riversnap_calendar {
			display: grid;
			justify-content: center;
		}
		
		// Small devices (landscape phones, 576px and up)
		@media (min-width: 576px) {}
		
		// Medium devices (tablets, 768px and up)
		@media (min-width: 768px) {
			main {}
		}
		
		// Large devices (desktops, 992px and up)
		@media (min-width: 992px) {}
		
		// Extra large devices (large desktops, 1200px and up)
		@media (min-width: 1200px) {}

	</style>

	<title>Hello, world!</title>
</head>

<body>
	<div class="container-fluid m-0 p-0 g-2 overflow-hidden">
		<div class="row">
			<div class="col">
				<div class="p-3 bg-light">Header</div>
			</div>
		</div>
		<div class="row justify-content-center">
			<div class="col-xxl-5 col-xl-6 col-lg-7 col-md-9 cold-sm-10 col-xs-10 gy-3">
				<div class="greeting row">
					<div class="px-3">Hello, citizen scientist!</div>
				</div>
				<div class="dashboard row gy-2">
					<div class="chart col-lg-7 col-xl-7 col-xxl-7 col-md-12 col-sm-12 col-xs-12 g-2">
						<div class="title row gy-2">
							<div class="px-4">My plastic consumption</div>
						</div>
						<div class="row p-3">
							<div class="px-3 bg-light">
								<canvas id="plastic_usage_chart"></canvas>
							</div>
						</div>
					</div>
					<div class="calendar col-lg-5 col-xl-5 col-xxl-5 col-md-12 col-sm-12 col-xs-12 g-2">
						<div class="title row gy-2">
							<div class="px-4">My riversnaps</div>
						</div>
						<div class="description row gy-2">
							<div class="px-4"> Click on the date you want to add a photo to. You have already added a photo to the highlighted days.
							</div>
						</div>
						<div class="row p-3">
							<div class="px-3 bg-light">
								<div id="riversnap_calendar"></div>
							</div>
						</div>
					</div>
				</div>



				<div class="plastic_categories row g-2">
					<div class="col-12 px-3">
						<div class="title row">
							I want to add...
						</div>
						<div class="description row">
							Click on the type of the plastic you want to add
						</div>
					</div>

					<div class="col-md-4 col-sm-6 col-xs">
						<div class="p-3 bg-light">Custom column padding Custom column padding Custom column padding </div>
					</div>
					<div class="col-md-4 col-sm-6 col-xs">
						<div class="p-3 bg-light">Custom column padding Custom column padding Custom column padding </div>
					</div>
					<div class="col-md-4 col-sm-6 col-xs">
						<div class="p-3 bg-light">Custom column padding Custom column padding Custom column padding </div>
					</div>
					<div class="col-md-4 col-sm-6 col-xs">
						<div class="p-3 bg-light">Custom column padding Custom column padding Custom column padding </div>
					</div>
					<div class="col-md-4 col-sm-6 col-xs">
						<div class="p-3 bg-light">Custom column padding Custom column padding Custom column padding </div>
					</div>
					<div class="col-md-4 col-sm-6 col-xs">
						<div class="p-3 bg-light">Custom column padding Custom column padding Custom column padding </div>
					</div>
					<div class="col-md-4 col-sm-6 col-xs">
						<div class="p-3 bg-light">Custom column padding Custom column padding Custom column padding </div>
					</div>
					<div class="col-md-4 col-sm-6 col-xs">
						<div class="p-3 bg-light">Custom column padding Custom column padding Custom column padding </div>
					</div>
					<div class="col-md-4 col-sm-6 col-xs">
						<div class="p-3 bg-light">Custom column padding Custom column padding Custom column padding </div>
					</div>
				</div>
			</div>
		</div>
		<div class="row mt-2">
			<div class="col">
				<div class="p-3 bg-light">Footer</div>
			</div>
		</div>
	</div>
	<!-- Optional JavaScript; choose one of the two! -->
	<script>
		const ctx = document.getElementById('plastic_usage_chart').getContext('2d');
		let chart, picker
		$(document).ready(() => {

			const data = {
				labels: ["w1", "w2"],
				datasets: [{
					"label": "a",
					"data": [2, 3, 6, 2],
					"backgroundColor": "red"
				}, {
					"label": "b",
					"data": [5, 1, 2, 7],
					"backgroundColor": "blue"
				}]
			}

			if (!chart) {
				const config = {
					type: 'bar',
					data: data,
					options: {
						responsive: true,
						interaction: {
							intersect: true,
						},
						scales: {
							x: {
								stacked: true,
							},
							y: {
								stacked: true
							}
						},
						maintainAspectRatio: false,
						responsive: true
					}
				};

				chart = new Chart(ctx, config);

			}

			picker = new Litepicker({
				element: document.getElementById('riversnap_calendar'),
				inlineMode: true,
				highlightedDays: ["2022-03-21", "2022-03-18"],
				highlightedDaysFormat: "YYYY-MM-DD",
				setup: (picker) => {
					picker.on('before:click', (target) => {
						if ($(target).hasClass('is-locked')) {
							// date is locked, the date has not yet occurred
						} else if ($(target).hasClass('is-highlighted')) {
							// date is highlighted, it was already chosen before
							notifier.alert("You already submitted a riversnap for this day. Choose another date.")
						} else if ($(target).hasClass('day-item')) {
							// date is available

						}
					});
				},
				maxDate: new Date()
			});
		});

	</script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


	<!-- Option 1: Bootstrap Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</body>

</html>
